<Patch>
  <!-- Deep Water passability -->

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterDeep"]</xpath>
    <value>
      <passability>Standable</passability>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterOceanDeep"]</xpath>
    <value>
      <passability>Standable</passability>
    </value>
  </Operation>

  <!-- Deep Water tag -->

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterDeep"]/tags</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterDeep"]</xpath>
        <value>
          <tags/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterOceanDeep"]/tags</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterOceanDeep"]</xpath>
        <value>
          <tags/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterDeep"]/tags</xpath>
    <value>
      <li>DeepWater</li>
    </value>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterOceanDeep"]/tags</xpath>
    <value>
      <li>DeepWater</li>
    </value>
  </Operation>

  <!-- Water pathCostSwimming -->

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterDeep"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterDeep"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterDeep"]/statBases</xpath>
    <value>
      <pathCostSwimming>5</pathCostSwimming>
    </value>
  </Operation>

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterOceanDeep"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterOceanDeep"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterOceanDeep"]/statBases</xpath>
    <value>
      <pathCostSwimming>10</pathCostSwimming>
    </value>
  </Operation>

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterMovingChestDeep"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterMovingChestDeep"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterMovingChestDeep"]/statBases</xpath>
    <value>
      <pathCostSwimming>8</pathCostSwimming>
    </value>
  </Operation>

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterShallow"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterShallow"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterShallow"]/statBases</xpath>
    <value>
      <pathCostSwimming>15</pathCostSwimming>
    </value>
  </Operation>

  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterOceanShallow"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterOceanShallow"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterOceanShallow"]/statBases</xpath>
    <value>
      <pathCostSwimming>15</pathCostSwimming>
    </value>
  </Operation>
  
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "WaterMovingShallow"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "WaterMovingShallow"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "WaterMovingShallow"]/statBases</xpath>
    <value>
      <pathCostSwimming>15</pathCostSwimming>
    </value>
  </Operation>
  
  <Operation Class="PatchOperationSequence">
    <success>Always</success>
    <operations>
      <li Class="PatchOperationTest">
        <xpath>*/TerrainDef[defName = "Marsh"]/statBases</xpath>
        <success>Invert</success>
      </li>
      <li Class="PatchOperationAdd">
        <xpath>*/TerrainDef[defName = "Marsh"]</xpath>
        <value>
          <statBases/>
        </value>
      </li>
    </operations>
  </Operation>

  <Operation Class="PatchOperationAdd">
    <xpath>*/TerrainDef[defName = "Marsh"]/statBases</xpath>
    <value>
      <pathCostSwimming>30</pathCostSwimming>
    </value>
  </Operation>
</Patch>
